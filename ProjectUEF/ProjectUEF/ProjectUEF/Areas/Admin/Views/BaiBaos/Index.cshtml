@model IEnumerable<ProjectUEF.Models.BaiBao>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout - Admin.cshtml";
}

<div class="container-fluid" id="container-wrapper">
    <div class="row">
        <div class="col-lg-12 mb-4">
            <!-- Simple Tables -->
            <div class="card">
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h2 class="m-0 font-weight-bold text-primary">Bài báo</h2>
                </div>
                <div>
                    <center>
                        <a href="/Admin/BaiBaos/Create" class="btn btn-warning">Thêm mới</a>
                    </center>
                    <div class="col-md-offset-2 col-md-10">

                        @using (Html.BeginForm())
                        {
                            <p>
                                @Html.TextBox("SearchString") <input type="submit" value="Search" style="border-radius: 6px;" />
                            </p>
                        }
                    </div>
                </div>

                @*SEARCHING------------------------------------------------------------------------------------------------------------------------------*@

                <div class="table-responsive">
                    <table class="table align-items-center table-flush">
                        <thead class="thead-dark">
                            <tr>
                                <th>
                                    @Html.DisplayNameFor(model => model.DonVi)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.GhiChu)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.TenBaiBao)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.TenTapChi)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.ThoiGianSanXuat)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.ChiSoISSNVaISBN)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.ThuocDanhMuc)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.SoLuongTacGia)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.QuyDoiTieuChuan)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.CapDoDeTai.CapDo)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.DanhMucBaiBao.TenDanhMuc)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.LoaiNghienCuu.TenLoaiNghienCuu)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.LyLichKhoaHoc.MaQuanLy)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.TongDiem1.ID)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.VaiTro.TenVaiTro)
                                </th>
                                <th>Tùy chọn</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.DonVi)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.GhiChu)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TenBaiBao)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TenTapChi)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ThoiGianSanXuat)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ChiSoISSNVaISBN)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ThuocDanhMuc)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.SoLuongTacGia)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.QuyDoiTieuChuan)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.CapDoDeTai.CapDo)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.DanhMucBaiBao.TenDanhMuc)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.LoaiNghienCuu.TenLoaiNghienCuu)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.LyLichKhoaHoc.MaQuanLy)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.TongDiem1.ID)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.VaiTro.TenVaiTro)
                                    </td>
                                    <td>
                                        <a class="btn btn-xs btn-success" href="/Admin/BaiBaos/Edit/@item.ID"><span class="fa fa-edit"></span></a>
                                        <a class="btn btn-xs btn-danger" href="/Admin/BaiBaos/Delete/@item.ID"><span class="fa fa-recycle"></span></a>
                                    </td>

                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <div class="col-sm-12 col-md-7">

                    <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate">
                        <ul class="pagination">
                            @{
                                int numPage = ViewBag.numPage;
                                int PageCurrent = ViewBag.pageCurrent;
                                if (PageCurrent > 1)
                                {
                                    int prePage = PageCurrent - 1;
                                    <li class="paginate_button page-item previous" id="dataTable_previous">
                                        <a href="?page=@prePage" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Trang trước</a>
                                    </li>
                                }
                                int i;
                                for (i = 1; i <= numPage; i++)
                                {
                                    if (i == PageCurrent)
                                    {
                                        <li class="paginate_button page-item active">
                                            <a href="?page=@i" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">@i</a>
                                        </li>
                                    }
                                    else
                                    {
                                        <li class="paginate_button page-item ">
                                            <a href="?page=@i" aria-controls="dataTable" data-dt-idx="4" tabindex="0" class="page-link">@i</a>
                                        </li>
                                    }
                                }
                                if (PageCurrent >= 1 && PageCurrent < numPage)
                                {
                                    int nextPage = PageCurrent + 1;
                                    <li class="paginate_button page-item next" id="dataTable_next">
                                        <a href="?page=@nextPage" aria-controls="dataTable" data-dt-idx="7" tabindex="0" class="page-link">Trang sau</a>
                                    </li>
                                }
                            }

                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
